<div class="container_dashboard">
  <div class="container_inicio">
    <div class="grafico">
      <canvas id="myChart"></canvas>
    </div>
    <br />
    <div class="ventas">
      <h5>Dispositivos actuales</h5>
      <br>
      <h1><?php echo count($dispositivos)?></h1>
    </div>
    <br />
    <div class="ventas">
      <h5>Solicitudes recibidas hoy</h5>
      <br>
      <h1><?php echo $solhoy[0]?></h1>
    </div>
  </div>
  <div class="container_secundario">
    <br />
    <div class="ventas">
      <h5>Dispositivos Activos</h5>
      <br>
      <h1><?php echo $disActivos[0]?></h1>
    </div>
    <br />
    <div class="ventas">
      <h5>Dispositivos Inactivos</h5>
      <br>
      <h1><?php echo $disInactivos[0]?></h1>
    </div>
    <div class="grafico">
        <canvas id="myChart2"></canvas>
      </div>
  </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.4.1/dist/chart.min.js"></script>
<script>
  fetch("./controllers/controlador_dashboard.php",{method: "POST"})
  .then(function(res){ return res.json(); })
.then(function(data){ alert( JSON.stringify( data ) ) })





  var ctx = document.getElementById("myChart").getContext("2d");
  var myChart = new Chart(ctx, {
    type: "bar",
    data: {
      labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
      datasets: [
        {
          label: "# of Votes",
          data: [12, 19, 3, 5, 2, 3],
          backgroundColor: [
            "rgba(255, 99, 132, 0.2)",
            "rgba(54, 162, 235, 0.2)",
            "rgba(255, 206, 86, 0.2)",
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
          ],
          borderColor: [
            "rgba(255, 99, 132, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
          ],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
  //grafico 2
  var ctx = document.getElementById("myChart2").getContext("2d");
  var myChart2 = new Chart(ctx, {
    type: "line",
    data: {
      labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
      datasets: [
        {
          label: "# of Votes",
          data: [12, 19, 3, 5, 2, 3],
          backgroundColor: [
            "rgba(255, 99, 132, 0.2)",
            "rgba(54, 162, 235, 0.2)",
            "rgba(255, 206, 86, 0.2)",
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
          ],
          borderColor: [
            "rgba(255, 99, 132, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
          ],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
</script>
<style>
  body{
    overflow-y: hidden;
    overflow-x: hidden;
  }
  .container_dashboard {
    display: flex;
    flex-direction: column;
     width:100% ;
    justify-content: center;
    align-items: center;
  }
  .container_inicio{
      display: flex;
      flex-direction: row;
      width: 100%;
      height: 40%;
      margin-left: 10%;
      margin-bottom: 2rem;
  }
  .container_secundario{
    display: flex;
    margin-left: 10%;
      flex-direction: row;
    width: 100%;
      height: 40%;
  }
  .ventas {
    display: flex;
    flex-direction: column;
    margin-left: 2%;
    border-radius: 1.5rem;
    box-shadow: 10px 10px 30px rgba(0, 0, 0, 0.246);
    justify-content: center;
    text-align: center;
    align-items: center;
    display: flex;
    width: 20%;
  }
  .grafico {
      margin-left: 2rem;
    border-radius: 1.5rem;
    box-shadow: 10px 10px 30px rgba(0, 0, 0, 0.246);
    display: flex;
    width: 40%;
  }
</style>
